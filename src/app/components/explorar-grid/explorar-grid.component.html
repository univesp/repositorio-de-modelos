<div class="explorarGrid">
    <!-- Loading Overlay -->
    <div *ngIf="carregando" class="grid-loading-overlay">
      <div class="grid-loading-content">
        <div class="grid-loading-spinner"></div>
        <span>Carregando modelos...</span>
      </div>
    </div>

    <ng-container *ngIf="!carregando">
      
      <div *ngFor="let item of modelosPaginados" 
           class="explorarGrid__item" 
           (click)="redirectModeloPage(item.id, $event)">

        <div class="explorarGrid__topo">
          <div class="explorarGrid__info">
            <div class="explorarGrid__detalhes">
              <span>{{ item.date }}</span>
              <span> | </span> 
              <span>{{ item.formato }}</span>
            </div>
          </div>
        
          <mat-icon 
            class="icon-bookmark" 
            aria-hidden="false" 
            aria-label="BookMark icon" 
            [fontIcon]="item.isSalvo ? 'bookmark' : 'bookmark_border'" 
            (click)="toggleBookmark(item, $event); $event.stopImmediatePropagation()"
            *ngIf="isLoggedIn">
          </mat-icon>
        </div>

        <div class="modelo-title">
          <h2>{{ item.titulo }}</h2>
        </div>

        <div class="explorarGrid__imagem">
            <img src="{{ item.img_lg }}" alt="">
        </div>

        <div class="modelo-tags">
          <span *ngFor="let tag of item.tags" class="tag-item">
            {{ tag }}
          </span>
        </div>

        <p class="explorarGrid__descricao"> {{ item.descricao }} </p>

        <p class="explorarGrid__autor">Enviado por:  <b>{{ item.autor }}</b> </p>
      </div>

    </ng-container>
    
</div>

<!-- PAGINAÇÃO -->
<div class="paginacao" *ngIf="totalPaginas > 1 && !carregando">
  <button class="paginacao-btn" 
          (click)="irParaPrimeiraPagina()"
          [disabled]="paginaAtual === 1">
      &lt;&lt;
  </button>

  <button class="paginacao-btn" 
          (click)="paginaAnterior()"
          [disabled]="paginaAtual === 1">
      &lt; Anterior
  </button>

  <span *ngFor="let pagina of paginasParaExibir" 
        class="paginacao-numero"
        [class.paginacao-ativa]="pagina === paginaAtual"
        (click)="irParaPagina(pagina)">
      {{ pagina }}
  </span>

  <button class="paginacao-btn" 
          (click)="proximaPagina()"
          [disabled]="paginaAtual === totalPaginas">
      Próxima &gt;
  </button>

  <button class="paginacao-btn" 
          (click)="irParaUltimaPagina()"
          [disabled]="paginaAtual === totalPaginas">
      &gt;&gt;
  </button>
</div>